<!-- Navbar com Dashboard controlado por Claims no layout -->
<nav class="navbar navbar-expand-lg fixed-top">
    <div class="container-fluid">
        <a class="navbar-brand d-flex align-items-center" href="#">
            <span class="material-icons" style="font-size:36px;">folder_open</span>
            <span class="ms-2">VoxDocs</span>
        </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto align-items-center">
                <!-- Exibir o botÃ£o do Dashboard diretamente via Layout com Claims -->
                @if (User.IsInRole("admin") || User.HasClaim("PermissionAccount", "admin"))
                {
                    <li class="nav-item me-2">
                        <form asp-controller="DashboardMvc" asp-action="Dashboard" class="m-0">
                            <button class="btn btn-custom d-flex align-items-center">
                                <span class="material-icons me-1">dashboard</span>
                                <span class="d-none d-md-inline">Dashboard</span>
                            </button>
                        </form>
                    </li>
                }

                <!-- Logout -->
                <li class="nav-item me-2">
                    <form id="logoutForm" method="post" asp-controller="NavbarControllerMvc" asp-action="Logout" class="m-0">
                        @Html.AntiForgeryToken()
                        <button type="submit" class="btn btn-custom d-flex align-items-center" onclick="return logoutUser(event)">
                            <span class="material-icons me-1">logout</span>
                            <span class="d-none d-md-inline">Logout</span>
                        </button>
                    </form>
                </li>
            </ul>
        </div>
    </div>
</nav>

<script>
    // Limpa token do localStorage e envia o form de logout
    function logoutUser(event) {
        event.preventDefault();
        document.getElementById('logoutForm').submit();
        return false;
    }
</script>

<style>
    .navbar {
        background-color: #ffffff;
        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    .btn-custom {
        background-color: #6257db;
        color: #fff;
        font-weight: 500;
        border-radius: 8px;
        padding: 0.5rem 1rem;
    }
    .btn-custom:hover {
        background-color: #5346c9;
        color: #fff;
    }
</style>
