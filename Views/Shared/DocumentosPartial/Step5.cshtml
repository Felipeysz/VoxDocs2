@model VoxDocs.DTO.DTOCadastroEmpresa


<head>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<style>
  /* -------------------------------------------
   Estilos para Step 5 - Pagamento
   ------------------------------------------- */

  /*Coloração do botão*/
.btn{
  background-color: #5c3c8a;
  color: #fff;
  border: none;
}

.btn:hover{
  background-color: #5c3c8a;
  color: #fff;
  transform: translateY(-2px);
}

/* Container geral de Step 5 */
.step-content[data-step="5"] {
  font-family: 'Poppins', sans-serif;
  color: var(--text-dark, #17171f);
}

/* Tabs de pagamento */
.step-content[data-step="5"] .checkout-tabs {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

.step-content[data-step="5"] .checkout-tabs .tab {
  flex: 1;
  padding: 0.5rem 0;
  text-align: center;
  background: #f7f7f7;
  border: 1px solid var(--shadow-light);
  border-radius: 0.75rem;
  cursor: pointer;
  transition: background-color var(--transition, 0.3s ease);
  color: var(--text-dark);
}

.step-content[data-step="5"] .checkout-tabs .tab.active {
  background: var(--clr-primary);
  color: #fff;
  border-color: var(--clr-primary);
}

/* Conteúdo das abas (inicialmente oculto) */
.step-content[data-step="5"] .tab-content {
  display: none;
  background: var(--clr-card);
  border: 1px solid var(--shadow-light);
  border-radius: 0.75rem;
  padding: 1rem;
  box-shadow: 0 2px 8px var(--shadow-light);
}

.step-content[data-step="5"] .tab-content.active {
  display: block;
}

/* Título interno de cada aba */
.step-content[data-step="5"] .tab-content h4 {
  font-size: 1.4rem;
  font-weight: 600;
  color: var(--clr-primary);
  margin-bottom: 1rem;
}

/* Inputs de cartão */
.step-content[data-step="5"] .inputs .input-group {
  position: relative;
  margin-bottom: 1rem;
}

.step-content[data-step="5"] .inputs .input-group input {
  width: 100%;
  padding: 0.6rem 2.5rem 0.6rem 1rem;
  border: 1px solid var(--shadow-light);
  border-radius: 0.75rem;
  background: #fafafa;
  transition: border-color var(--transition, 0.3s ease);
  font-size: 1rem;
}

.step-content[data-step="5"] .inputs .input-group input:focus {
  border-color: var(--clr-primary);
  outline: none;
}

.step-content[data-step="5"] .inputs .input-group span,
.step-content[data-step="5"] .cc-flag {
  position: absolute;
  right: 0.75rem;
  top: 50%;
  transform: translateY(-50%);
  font-size: 1.2rem;
  color: var(--shadow-light);
}

.step-content[data-step="5"] .cc-flag {
  width: 24px;
  height: 16px;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
}

/* Linha de inputs lado a lado (validade e CVV) */
.step-content[data-step="5"] .input-row {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

/* Botão “Pagar com Cartão” */
.step-content[data-step="5"] #pagarCartao {
  font-size: 1rem;
  padding: 0.75rem 1.5rem;
  border-radius: 2rem;
  border: none;
  background: var(--clr-primary);
  color: #fff;
  font-weight: 600;
  cursor: pointer;
  transition: background-color var(--transition, 0.3s ease), transform var(--transition, 0.3s ease);
}

.step-content[data-step="5"] #pagarCartao:hover,
.step-content[data-step="5"] #pagarCartao:focus {
  background: var(--clr-accent);
  transform: translateY(-2px);
  outline: none;
}

.step-content[data-step="5"] #pagarCartao:active {
  transform: translateY(0);
  opacity: 0.9;
}

/* Alerta de resposta do cartão */
.step-content[data-step="5"] #resCartao {
  margin-top: 1rem;
}

/* Conteúdo Pix */
.step-content[data-step="5"] .pix-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
  margin-top: 1rem;
}

/* Botão “Gerar QR Code” */
.step-content[data-step="5"] #btnGerarPix {
  font-size: 1rem;
  padding: 0.5rem 1.5rem;
  border-radius: 2rem;
  border: 1.5px solid var(--clr-primary);
  background-color: transparent;
  color: var(--clr-primary);
  font-weight: 600;
  cursor: pointer;
  transition: 
    background-color var(--transition, 0.3s ease), 
    border-color var(--transition, 0.3s ease), 
    color var(--transition, 0.3s ease), 
    transform var(--transition, 0.3s ease);
}

.step-content[data-step="5"] #btnGerarPix:hover,
.step-content[data-step="5"] #btnGerarPix:focus {
  background-color: var(--clr-accent);
  border-color: var(--clr-accent);
  color: #fff;
  transform: translateY(-2px);
  outline: none;
}

.step-content[data-step="5"] #btnGerarPix:active {
  transform: translateY(0);
  opacity: 0.9;
}

/* Placeholder “Gerando...” */
.step-content[data-step="5"] .qr-placeholder {
  font-size: 1rem;
  color: var(--clr-primary);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* Container do QR Code */
.step-content[data-step="5"] .qr-container {
  width: 200px;
  height: 200px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px dashed var(--shadow-light);
  border-radius: 0.75rem;
  background: #fafafa;
}

.step-content[data-step="5"] .qr-container:not(.hidden) {
  border: none;
  background: transparent;
  padding: 0;
}

/* Alerta de resposta Pix */
.step-content[data-step="5"] #resPix {
  margin-top: 1rem;
}

/* Contador de expiração do Pix */
.step-content[data-step="5"] .countdown {
  font-size: 0.95rem;
  color: var(--clr-primary);
  text-align: center;
}

/* Classe de utilitário para ocultar elementos */
.step-content[data-step="5"] .hidden {
  display: none;
}

</style>

<!-- Arquivo: Views/Shared/DocumentosPartial/Step5.cshtml -->
<div class="step-content" data-step="5">
  <input type="hidden" asp-for="PlanoPago" id="PlanoPago" name="PlanoPago" />
  @* <input type="hidden" id="PlanoPago" name="PlanoPago" value="PlanoEscolhido" /> *@
  <div class="payment-section">
    <div class="checkout-tabs mb-4">
      <button type="button" class="tab btn btn-outline-primary active me-2" data-target="card">Cartão</button>
      <button type="button" class="tab btn btn-outline-secondary" data-target="pix">Pix</button>
    </div>

    <div class="tab-content active" id="card">
      <h4>Cartão de Crédito</h4>
      <div class="inputs mb-3">
        <div class="input-group mb-3">
          <input type="text" id="cartaoNumber" maxlength="19" required placeholder="Número do cartão" autocomplete="cc-number" class="form-control" />
          <span class="material-symbols-outlined input-group-text">credit_card</span>
          <div id="cc-flag" class="cc-flag"></div>
        </div>
        <div class="input-row d-flex gap-2 mb-3">
          <div class="input-group flex-fill">
            <input type="text" id="validadeCartao" maxlength="5" required placeholder="MM/AA" autocomplete="cc-exp" class="form-control" />
            <span class="material-symbols-outlined input-group-text">event</span>
          </div>
          <div class="input-group flex-fill">
            <input type="text" id="cvvCartao" maxlength="4" required placeholder="CVV" autocomplete="cc-csc" class="form-control" />
            <span class="material-symbols-outlined input-group-text">lock</span>
          </div>
        </div>
      </div>
      <button type="button" class="btn btn-success rounded-pill px-4" id="pagarCartao">
        Pagar com Cartão
      </button>
      <div id="resCartao" class="alert d-none mt-3"></div>
    </div>

    <div class="tab-content" id="pix">
      <h4>Pix</h4>
      <div class="pix-wrapper">
        <button type="button" id="btnGerarPix" class="btn btn-outline-primary rounded-pill mb-3">Gerar QR Code</button>
        <div id="qrPlaceholder" class="qr-placeholder hidden mb-3">
          <span class="material-symbols-outlined">sync</span> Gerando...
        </div>
        <div id="qrCodeContainer" class="qr-container mb-3 hidden"></div>
        <div id="resPix" class="alert d-none mt-3"></div>
        <div id="pixCountdown" class="countdown"></div>
      </div>
    </div>
  </div>
</div>