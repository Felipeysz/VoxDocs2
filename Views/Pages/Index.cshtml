@model VoxDocs.ViewModels.PlanosIndexViewModel

<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>VoxDocs • Bem-vindo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/css/styleIndex.css" />
    <link rel="stylesheet" href="~/css/ChatVoxStyles/voice-modalstyle.css" />
</head>
<body>

    <!-- Exibição de Mensagem de Erro -->
    @if (ViewBag.ErrorMessage != null)
    {
        <div class="alert alert-danger alert-dismissible fade show fixed-top m-3" role="alert">
            @ViewBag.ErrorMessage
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }

    <!-- VLibras -->
    <div vw class="enabled">
        <div vw-access-button class="active"></div>
        <div vw-plugin-wrapper>
            <div class="vw-plugin-top-wrapper"></div>
        </div>
    </div>
    <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
    <script> new window.VLibras.Widget('https://vlibras.gov.br/app'); </script>

    <!-- Assistente de voz -->
    <button id="toggleAssistant"
            class="btn btn-accent position-fixed"
            style="bottom:16px; right:80px; z-index:2000;"
            data-bs-toggle="modal"
            data-bs-target="#assistantModal"
            title="Assistente de Voz">
        <span class="material-symbols-outlined">support_agent</span>
    </button>

    <!-- Modal Assistente -->
    @await Html.PartialAsync("_VoiceAssistantModal")

    <!-- Navbar -->
    @await Html.PartialAsync("_NavbarPartial")

        <!-- Hero -->
    <section class="hero text-white text-center py-5" data-aos="fade-down">
        <div class="container">
            <h1>Sua Solução de Gestão de Documentos</h1>
            <p class="lead">VoxDocs organiza, armazena e protege seus arquivos de forma simples e eficiente.</p>
            <a asp-controller="LoginMvc" asp-action="Login" class="btn btn-primary mt-3" data-aos="zoom-in" data-aos-delay="200">
                Começar Agora
            </a>
        </div>
    </section>

    <!-- Hero -->
<section class="plans py-5" data-aos="fade-up">
    <div class="container">
        <h2 class="text-center mb-5">Escolha seu Plano</h2>
        <div class="row gy-4 mb-5">

            @foreach (var plano in Model.Planos)
            {
                <div class="col-md-3" data-aos="fade-up">
                    <div class="plan-card h-100 p-4 border rounded shadow-sm text-center">
                        <div class="plan-name fw-bold">@plano.Nome @(!string.IsNullOrEmpty(plano.Periodicidade) ? $"({plano.Periodicidade})" : "")</div>

                        <div class="plan-price display-6 mb-3">
                            @(plano.Preco == 0 ? "Gratuito" : $"R$ {plano.Preco:F2}")
                        </div>

                        <ul class="list-unstyled mb-4">
                            <li>
                                <span class="material-symbols-outlined">storage</span>
                                @(plano.ArmazenamentoDisponivel.HasValue ? $"{plano.ArmazenamentoDisponivel} GB Armazenamento" : "Não disponível")
                            </li>
                            <li>
                                <span class="material-symbols-outlined">people</span>
                                @Html.Raw(plano.LimiteUsuario.HasValue
                                    ? (plano.LimiteUsuario.Value == -1 ? "Ilimitado" : $"{plano.LimiteUsuario} Usuários")
                                    : "Não disponível")
                            </li>
                        </ul>

                        <form asp-controller="PagamentoMvc"
                            asp-action="CriarPlano"
                            method="post"
                            class="d-grid gap-2">
                            <input type="hidden" name="nomePlano" value="@plano.Nome" />
                            <input type="hidden" name="periodicidade" value="@plano.Periodicidade" />
                            <button type="submit" class="btn btn-subscribe">Selecionar</button>
                        </form>
                    </div>
                </div>
            }

        </div>
    </div>
</section>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
    <script src="~/js/VoxDocsScripts/voice-modalScript.js"></script>
    <script>
        AOS.init({ once: true });
    </script>
</body>
</html>